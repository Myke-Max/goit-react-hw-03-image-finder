{"version":3,"sources":["components/modal/modal.module.css","components/imageGalleryItem/imageGalleryItem.module.css","components/button/button.module.css","components/container/container.module.css","components/ImageGallery/imageGallery.module.css","components/container/Container.js","API-service/api.js","components/modal/modal.js","components/imageGalleryItem/imageGalleryItem.js","components/ImageGallery/imageGallery.js","components/Searchbar/searchBar.js","components/button/button.js","components/loader/loader.js","App.js","reportWebVitals.js","index.js","components/Searchbar/searchBar.module.css"],"names":["module","exports","Container","children","className","s","container","URL","KEY","ImageApiService","searchQuery","page","fetch","then","res","json","modalRoot","document","querySelector","Modal","handleEscDown","e","code","props","toggleClose","handleBackdropClick","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","Overlay","onClick","type","buttonClose","width","height","Component","GalleryItems","toggleOpen","id","webformatURL","largeImageURL","tags","ImageGalleryItem","dataset","large","src","alt","ImageGalleryItem__image","ImageGallery","images","map","SearchBar","state","handleQueryValue","setState","value","toLowerCase","handleSubmit","preventDefault","trim","toast","error","onSubmit","Searchbar","SearchForm","SearchForm__button","SearchForm__buttonLabel","onChange","SearchForm__input","autoComplete","autoFocus","placeholder","Button","nextPage","load__wrapper","loader","color","timeout","Status","App","showModal","urlModal","status","total","handleQuerySubmit","toggleModal","url","handleIncrement","prevProps","prevState","newQuery","onGetImages","scrollTo","top","documentElement","scrollHeight","behavior","hits","length","catch","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6c925a87.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__1kE_O\",\"Modal\":\"modal_Modal__2u3de\",\"buttonClose\":\"modal_buttonClose__3UoeC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"imageGalleryItem_ImageGalleryItem__19lDo\",\"ImageGalleryItem__image\":\"imageGalleryItem_ImageGalleryItem__image___Qx1w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__2z-R_\",\"load__wrapper\":\"button_load__wrapper__213_H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"container_container__3IBAn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__uOdaE\"};","import s from '../container/container.module.css';\n\nconst Container = ({ children }) => {\n  return <div className={s.container}>{children}</div>;\n};\n\nexport default Container;\n","// class ImageApiService {\n//   constructor() {\n//     this.URL = 'https://pixabay.com/api/?image_type=photo&orientation=horizontal';\n//     this.page = 1;\n//     this.searchQuery = '';\n//     this.KEY = '22387532-0967f6e2e55f286a38e8c1dae';\n//   }\n//   resetPage() {\n//     this.page = 1;\n//   }\n\n//   nextPage() {\n//     this.page += 1;\n//   }\n\n//   resetQuery(query) {\n//     if (this.searchQuery !== query) {\n//       this.searchQuery = query;\n//       this.page = 1;\n//     }\n//   }\n\n//   fetchImages(query) {\n//     this.resetQuery(query);\n//     return fetch(`${this.URL}?q=${query}&page=${this.page}&per_page=12&key=${this.KEY}`).then(res =>\n//       res.json(),\n//     );\n//   }\n// }\n\n// export default ImageApiService;\n\nconst URL = 'https://pixabay.com/api/';\nconst KEY = '22387532-0967f6e2e55f286a38e8c1dae';\n\nconst ImageApiService = (searchQuery, page = 1) => {\n  return fetch(\n    `${URL}?q=${searchQuery}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(res => res.json());\n};\n\nexport default ImageApiService;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport { HiX } from 'react-icons/hi';\nimport s from './modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleEscDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleEscDown);\n  }\n\n  handleEscDown = e => {\n    if (e.code === 'Escape') {\n      this.props.toggleClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.toggleClose();\n    }\n  };\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <button type=\"button\" onClick={this.props.toggleClose} className={s.buttonClose}>\n            <HiX width=\"15\" height=\"15\" />\n          </button>\n          {this.props.children}\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\n// const modal = ({ toggleClose }) => {\n//   return (\n//     <div onClick={toggleClose} className={s.Overlay}>\n//       <div className={s.Modal}>\n//         <img src=\"../public/logo192.png\" alt=\"\" width=\"100\" height=\"100\" />\n//         <button type=\"button\" onClick={toggleClose} className={s.buttonClose}></button>\n//       </div>\n//     </div>\n//   );\n// };\n\nexport default Modal;\n","import s from './imageGalleryItem.module.css';\n\nconst GalleryItems = ({ toggleOpen, id, webformatURL, largeImageURL, tags }) => (\n  <li className={s.ImageGalleryItem}>\n    <img\n      onClick={e => toggleOpen(e.target.dataset.large)}\n      src={webformatURL}\n      alt={tags}\n      className={s.ImageGalleryItem__image}\n      data-large={largeImageURL}\n      key={id}\n    />\n  </li>\n);\n\nexport default GalleryItems;\n","import React from 'react';\nimport s from './imageGallery.module.css';\nimport ImageGalleryItem from '../imageGalleryItem';\n\nconst ImageGallery = ({ toggleOpen, images }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(({ id, webformatURL, largeImageURL, tags }) => (\n        <ImageGalleryItem\n          key={id}\n          toggleOpen={toggleOpen}\n          webformatURL={webformatURL}\n          largeImageURL={largeImageURL}\n          tags={tags}\n        />\n      ))}\n    </ul>\n  );\n};\nexport default ImageGallery;\n","import { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport s from './searchBar.module.css';\n\nclass SearchBar extends Component {\n  state = {\n    searchQuery: '',\n  };\n  handleQueryValue = e => {\n    this.setState({ searchQuery: e.currentTarget.value.toLowerCase() });\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    if (this.state.searchQuery.trim() === '') {\n      return toast.error('Wow,specify your wishes');\n    }\n    this.props.onSubmit(this.state.searchQuery);\n    this.setState({ searchQuery: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchForm__button}>\n            <span className={s.SearchForm__buttonLabel}>Search</span>\n          </button>\n\n          <input\n            onChange={this.handleQueryValue}\n            value={this.state.searchQuery}\n            className={s.SearchForm__input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;\n","import React from 'react';\nimport s from './button.module.css';\n\nconst Button = ({ nextPage }) => {\n  return (\n    <div className={s.load__wrapper}>\n      <button className={s.Button} type=\"button\" onClick={nextPage}>\n        {' '}\n        Load More\n      </button>\n    </div>\n  );\n};\n\nexport default Button;\n","import React from 'react';\nimport s from './loader.module.css';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nconst loader = () => {\n  return (\n    <Loader\n      type=\"Puff\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={3000} //3 secs\n    />\n  );\n};\n\nexport default loader;\n","import { Component } from 'react';\nimport Container from './components/container';\nimport ImageApiService from './API-service/api';\nimport Modal from './components/modal';\nimport ImageGallery from './components/ImageGallery';\nimport SearchBar from './components/Searchbar/searchBar';\nimport LoadMore from './components/button/button';\nimport Loader from './components/loader';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\n\n// const API = new ImageApiService();\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n  LOADING: 'loading',\n};\nclass App extends Component {\n  state = {\n    showModal: false,\n    searchQuery: '',\n    images: [],\n    urlModal: '',\n    status: 'idle',\n    error: '',\n    page: 1,\n    total: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const newQuery = this.state.searchQuery;\n    const nextPage = this.state.page;\n    if (this.state.status === Status.LOADING) {\n      this.setState({ status: Status.PENDING });\n      this.onGetImages(newQuery, nextPage);\n    }\n    if (this.state.status !== Status.LOADING && prevState.page !== nextPage) {\n      this.onGetImages(newQuery, nextPage);\n      this.setState({ error: '' });\n    }\n    if (!this.state.showModal && !prevState.showModal) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n  onGetImages(newQuery, page) {\n    ImageApiService(newQuery, page)\n      .then(({ hits, total }) => {\n        this.setState({\n          images: [...this.state.images, ...hits],\n          total: total / 12 > 500 ? 500 : total / 12,\n        });\n        hits.length > 0\n          ? this.setState({ status: Status.RESOLVED })\n          : this.setState({ status: Status.REJECTED, error: 'not found' });\n      })\n      .catch(error => this.setState({ status: Status.REJECTED, error }));\n  }\n\n  handleQuerySubmit = searchQuery => {\n    this.setState({ searchQuery, status: Status.LOADING, page: 1, images: [] });\n  };\n\n  toggleModal = url => {\n    this.setState({\n      showModal: !this.state.showModal,\n      urlModal: url,\n    });\n  };\n  handleIncrement = () => {\n    this.setState({ page: this.state.page + 1 });\n  };\n  render() {\n    const { searchQuery, showModal, images, urlModal, error, status, page, total } = this.state;\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <Container>\n            <ToastContainer />\n            <SearchBar onSubmit={this.handleQuerySubmit} />\n            {error && <p>Oops, there are no results for the {searchQuery} </p>}\n            <ImageGallery images={images} toggleOpen={this.toggleModal} />\n            {page < total && <LoadMore nextPage={this.handleIncrement} />}\n            {status === 'pending' && <Loader />}\n            {showModal && (\n              <Modal toggleClose={this.toggleModal}>\n                <img src={urlModal} alt=\"\" />\n              </Modal>\n            )}\n          </Container>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchBar_Searchbar__3C2P1\",\"SearchForm\":\"searchBar_SearchForm__1ipt_\",\"SearchForm__button\":\"searchBar_SearchForm__button__2oWqB\",\"SearchForm__buttonLabel\":\"searchBar_SearchForm__buttonLabel__1dwmW\",\"SearchForm__input\":\"searchBar_SearchForm__input__1IDyI\"};"],"sourceRoot":""}